// Fonctionnalit√© 1 :
// On commence par un petit √©chauffement : lorsque l'utilisateur va cliquer sur le footer (portant le tag <footer>),
// tu vas afficher le mot "clique" en console.

// Cette fonctionnalit√© doit √™tre cod√©e avec un addEventListener("click", function(){ }
// 	car c'est une bonne habitude √† prendre ! üòá

// Fonctionnalit√© 1-bis :
// Maintenant on va upgrader cette premi√®re fonctionnalit√© :
// lorsque l'utilisateur va cliquer sur le footer, tu vas afficher en console "clic num√©ro x" avec x
// qui commence √† 1 et s'incr√©mente de +1 √† chaque clic.

var footerField = document.getElementsByTagName('footer')[0];
var footerClickCount = 0;

var onFooterClick = function() {
	footerClickCount++;
//	console.log("clique num√©ro " + footerClickCount);
};

footerField.addEventListener("click", onFooterClick);


// Fonctionnalit√© 2 :
// On va enfin faire fonctionner ce satan√© "Hamburger Menu" qui s'affiche depuis le d√©but
// mais qui n'actionne rien quand on clique dessus. C'est quoi un "hamburger menu" ?
// C'est √ßa, ce bouton avec trois lignes horizontales en haut √† droite de la navbar.

// Tu vas faire que si quelqu'un clique sur ce bouton, l'√©l√©ment HTML portant l'Id navbarHeader
// perde sa classe collapse. Une fois que √ßa, √ßa marche, fait que si on clique √† nouveau dessus,
// la classe collapse soit rajout√©e √† nouveau √† l'√©l√©ment portant l'Id navbarHeader

// Indice : Il existe une fonction qui permet de rajouter une classe si elle n'est pas d√©j√† pr√©sente
// et l'enlever si elle est d√©j√† pr√©sente. C'est "toggle".
// Tu peux l'utiliser ainsi : elementDuDOM.classList.toggle("nomDeLaClasse")


var hamburgerMenuField = document.getElementsByClassName('navbar-toggler')[0];

var onHamburgerMenuClick = function() {
	document.getElementById('navbarHeader').classList.toggle('collapse')
//	console.log('test click navbar');
};
hamburgerMenuField.addEventListener("click", onHamburgerMenuClick);



// Fonctionnalit√© 3 :
// √Ä pr√©sent, on va faire cela : si on clique sur le bouton "Edit" de la premi√®re card,
// le texte de la card va se mettre en rouge de fa√ßon irr√©versible (sauf si on recharge la page). √Ä toi de jouer !


var firstCardText = document.getElementsByClassName('card-text')[0];
var firstCardEditButton = document.getElementsByClassName('btn-outline-secondary')[0];

var onEditButtonClick = function() {
    firstCardText.style.color = "red";
//		console.log('√ßa change de couleur');
};

firstCardEditButton.addEventListener("click", onEditButtonClick);



// Fonctionnalit√© 4 :
// On va faire quelque chose de similaire √† la fonctionnalit√© 3 mais un peu plus complexe :
// si on clique sur le bouton "Edit" de la deuxi√®me card, le texte de la card va se mettre en vert.
// Si on re-clique dessus, il redevient comme avant !
// Tu l'as compris, il va falloir que tu cherches comment faire un "toggle" sur le style du texte.
// C'est plus compliqu√© que sur une classe.


var secondCardText = document.getElementsByClassName('card-text')[1];

var secondCardEditButton = document.getElementsByClassName('btn-outline-secondary')[1];

var onSecondEditButtonClick = function() {
    if (secondCardText.style.color === 'green'){
        secondCardText.style.color = '' ;
    }else {
        secondCardText.style.color = "green";
    }
};

secondCardEditButton.addEventListener("click", onSecondEditButtonClick);





// Fonctionnalit√© 5 :
// Pour le fun, on va impl√©menter une fonctionnalit√© √† la sauce ‚ò¢"nucl√©aire"ü§Ø.
// Et comme elle est un peu dangereuse, on va la cacher‚Ä¶ Voici comment elle doit marcher :
// si un utilisateur double clique sur la navbar en haut, tout Bootstrap dispara√Æt
// et la page s'affiche comme si on avait oubli√© de mettre le CDN qui la relie au fichier CSS.
// Si possible, rends cette fonctionnalit√© r√©versible (un nouveau double-clic fait tout revenir √† la normale).


var otherNav = document.getElementById('navbarHeader');
var lien = document.querySelectorAll('head>link')[0].href

var removeBootstrap = function() {
	if (document.querySelectorAll('head>link')[0].href != lien){
			document.querySelectorAll('head>link')[0].href = lien ;
	}else {
			document.querySelectorAll('head>link')[0].href = "";
	}
  console.log('Navbarclick√©');
};
otherNav.addEventListener("dblclick", removeBootstrap);






// Fonctionnalit√© 6 :
// T'as d√©j√† impl√©ment√© 5 fonctionnalit√©s d'interaction ! C'est top ! On va commencer √† corser les choses.

// La fonctionnalit√© sera la suivante : si un utilisateur passe sa souris sur le bouton "View" d'une card
// (n'importe laquelle), celle-ci va se r√©duire. Cela veut dire que le texte dispara√Æt,
// 	l'image n'appara√Ætra qu'√† 20 % de sa taille d'origine et les boutons "Edit" / "View" restent visibles.
// 	Cette fonction sera r√©versible : s'il repasse sa souris, la card redevient normale !

/*
var viewButton = document.getElementsByClassName('btn-success');
var cardino = document.getElementsByClassName('card-text');
var imagino = document.getElementsByClassName('card-img-top');

var reduceCardElement = function(){
	if (imagino[i].style.width === '20%'){
        firstCardText[i].classList.toggle("collapse");
        imagino[i].style.width = '100%';
    }
	else {
        imagino[i].style.width = '20%';
        firstCardText[i].classList.toggle("collapse");
    }
    console.log('pouet pouet');
};


forEach((i) => {
	viewButton[i].addEventListener("mouseover", reduceCardElement);
});
*/


let cardElmts = document.getElementsByClassName("card");
for (let i = 0; i < cardElmts.length; i++) {
	let cardText = cardElmts[i].getElementsByClassName("card-text")[0];
	let cardImage = cardElmts[i].getElementsByClassName("card-img-top")[0];
	let cardButtonView = cardElmts[i].getElementsByTagName("button")[0];
	function tinyCard() {
		if (cardImage.style.width === "20%") {
			cardImage.style = "";
			cardText.classList.toggle("collapse");
		}
		else {
			cardImage.style.width = "20%";
			cardText.classList.toggle("collapse");
		}
	}
	cardButtonView.addEventListener("mouseover", tinyCard);
}


// Fonctionnalit√© 7 :
// Allez on va rajouter un peu de WTF dans la page : si un utilisateur clique sur le bouton gris ==>,
// la derni√®re card (en bas √† droite) va passer en premier (en haut √† gauche). On va pouvoir faire tourner les cards !

// Indice : Cette fonctionnalit√© n'est pas ultra complexe en fait :
// il faut pointer sur le noeud-parent des 6 cards puis d√©placer la card n¬∞6 en premier avec un insertBefore.

// Petite remarque : tu vas r√©aliser que si tu m√©langes les cards,
// il est fort probable que la fonctionnalit√© 6 va se mettre √† faire n'importe quoi.
// Si tu survoles un bouton "View",
// c'est une autre card qui va se r√©duire. Si tu arrives √† corriger √ßa,
// c'est cool mais la consigne est d'ignorer ce souci pour le moment.


let navCardButton1 = document.getElementsByClassName("my-2")[1];
let parentNodeCards = document.getElementsByClassName("row")[1];
function lastCardGetsFirst() {
	parentNodeCards.insertBefore(parentNodeCards.children[5], parentNodeCards.children[0]);
}
navCardButton1.addEventListener("click", lastCardGetsFirst);


// Fonctionnalit√© 8 :
// √âvidemment tu t'y attendais : on va faire tourner les card dans l'autre sens aussi.
// Donc si un utilisateur clique sur le bouton bleu <==, la premi√®re card devra passer en dernier.
// √Ä premi√®re vue, tu te dis que si tu as r√©ussi √† faire la fonctionnalit√© pr√©c√©dente,
// celle-ci c'est du gateau... sauf qu'il y a quelques pi√®ges. üòà

let navCardButton2 = document.getElementsByClassName("my-2")[0];
function firstCardGetsLast(e) {
	e.preventDefault();
	parentNodeCards.insertBefore(parentNodeCards.children[0], parentNodeCards.children[5].nextSibling);
}
navCardButton2.addEventListener("click", firstCardGetsLast);



// Fonctionnalit√© 9 :
// Bon si t'es arriv√© jusque-l√†, c'est que t'as besoin d'un peu de challenge.
// Du coup je t'ai concoct√© une fonctionnalit√© de derri√®re les fagots,
// sp√©cialement con√ßue pour les moussaillons pas piqu√©s des hannetons
// (this sentence is brought to you by www.vieilles-expressions.fr).
// Voici ce qu'elle va devoir faire :

// La fonctionnalit√© se d√©clenchera si le logo de la page (JS & Events) est s√©lectionn√©
// et qu'on appuie sur une touche sp√©cifique du clavier.
// Si l'utilisateur presse la touche "a",
// l'ensemble de la page va √™tre condens√© sur 4 colonnes Bootstrap √† gauche de l'√©cran.
// Si l'utilisateur presse la touche "y",
// l'ensemble de la page va √™tre condens√© sur 4 colonnes Bootstrap au milieu de l'√©cran.
// Si l'utilisateur presse la touche "p",
// l'ensemble de la page va √™tre condens√© sur 4 colonnes Bootstrap √† droite de l'√©cran.
// Si l'utilisateur presse la touche "b", tout redevient normal.
